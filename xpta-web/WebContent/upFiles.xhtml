<f:subview xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"> 
    <rich:modalPanel id="panel" width="600" height="300">
        <f:facet name="header">
            <h:panelGroup>
                <h:outputText value="Adicionar arquivo"></h:outputText>
            </h:panelGroup>
        </f:facet>
        <a4j:form>
        <rich:fileUpload locale="/files" fileUploadListener="#{fileB.listener}"
                maxFilesQuantity="#{fileB.uploadsAvailable}"
                id="uploadFiles"
                immediateUpload="#{fileB.autoUpload}"
                acceptedTypes="mp3" allowFlash="#{fileB.useFlash}">
                <a4j:support event="onuploadcomplete" reRender="info" />
            </rich:fileUpload>
       	</a4j:form>
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage value="/images/modal/close.png" styleClass="hidelink" id="hidelink"/>
                <rich:componentControl for="panel" attachTo="hidelink" operation="hide" event="onclick"/>
            </h:panelGroup>
        </f:facet>
        
    </rich:modalPanel>
    <h:outputLink value="#" id="link">
        Adicionar Track 
        <rich:componentControl for="panel" attachTo="link" operation="show" event="onclick"/>
    </h:outputLink>
</f:subview>